{
  "case_number": "TS019888217",
  "subject": "2",
  "problem_description": "Can BOA have a hot fix for 1.6.14\n\nFixed Event Manager 1.6.15 (Nov 2025)\nTS018451063 - Topology-Topology pod restarting during data ingestion through file observer\ntopology.image.tag: v25.0.0-20250402.0749-d3e76a2c0\ntopology.image.digest: 'sha256:d3e76a2c09911d647e122ebb1a40063fc50a92f086a6093193ddbf9ef0c5c79b'\nhttps://jsw.ibm.com/browse/CP4AIOPS-12054?jql=text%20~%20%22sha256%3Ad3e76a2c09911d647e122ebb1a40063fc50a92f086a6093193ddbf9ef0c5c79b%22\nEvent Manager 1.6.13 (July 2024)\n***",
  "resolution_description": "",
  "public_comments": [
    {
      "timestamp": "8/8/2025 9:10 AM",
      "author": "[System]",
      "message": "NCO: Support Cloud Native NOI\nThank you for working with us. I hope you were satisfied with the handling of this case. If you have any further questions, you can reopen this case any time in the next 30 days. If you need assistance on another issue, please open a new case with IBM.\n\n\n\nIf you receive a survey from IBM after this case closes, please take a few minutes to respond. Your candid feedback is extremely valuable as we strive to deliver the best technical support possible and exceed your expectations.\n\n\n\nTry our virtual assistant! Get quick responses to questions and receive technical guidance by clicking the blue icon in the lower right corner of the IBM Support Site. Log in for the best experience! https://www.ibm.com/mysupport\n\n\n\nThank you for using IBM\n\n8/8/2025 9:10 AM | PCTS019874234 | Event: outboundCommunication | Web/Email | Tracey McWilliams\n8/8/2025 9:10 AM | PCTS019874234 | Automation Update | CT_Summarization - Resolution\nConfirmed Solution Not Summarized (No confirmed solution available)\n\nSolution Attempts *Generated by watsonx*:\n\nThe upgrade process was not followed correctly. After upgrading the cloud deployment, the spark statefulset needs to be removed.\nFor patching ASM, follow these steps:\n1. Create a backup of the current ASM_v1_6_14_nasm-topology-service for potential rollback.\n2. Patch the NOI CSV with the provided command, replacing the image value with \"cp.icr.io/cp/noi/nasm-topology-service@sha256:6c57e7992bae923924e196eae819a51dd7f59e8bc088a92ad8e9cc2886c46a96\".\nTo rollback the hotfix, update the <ORIGINAL-ASM_v1_6_14_nasm-topology-service-VALUE> in the rollback command with the value from the backup file.\nFor more details, refer to https://www.ibm.com/docs/en/noi/1.6.14?topic=platform-upgrading-case and the provided image details.\nAccuracy:12345\nReadability:12345\nUsed\n\n\nFeedback\n8/8/2025 9:10 AM | PCTS019874234 | CaseHistory: Solution Provided | Solution provided on 7/31/2025 5:17 PM | Tracey McWilliams\nSanthana Krishnan Janaki Raman (Customer)"
    },
    {
      "timestamp": "7/31/2025 5:17 PM",
      "author": "[System]",
      "message": "NCO: Support Cloud Native NOI\nSolution Attempt\nHello Santhana \n\n\n\nPlease find the details to patch ASM, note again we are editing the csv and nto the nor or the noihybrid\n\n\n\n# TS018451063 Topology pod restarting during data ingestion through file observer\n\n\n\n## Description\n\n[CP4AIOPS-12054](https://jsw.ibm.com/browse/CP4AIOPS-12054) The topology is slow at ingesting resources which have many hundreds of tags. This hot fix has performance enhancements which speed up the data ingestion in situations like this.\n\n\n\n## Image detail\n\n\n\n\"Name\": \"icr.io/cp/noi/nasm-topology-service\"\n\"Digest\": \"sha256:6c57e7992bae923924e196eae819a51dd7f59e8bc088a92ad8e9cc2886c46a96\"\n\"Tag\":\"v28.0.0-20250730.0908-6c57e7992\"\n\n\n\n## Airgap image download:\n\n\n\nIf the cluster is air-gapped then follow the procedure for downloading the images and copying it to the internal image registry, typically running a command such as the following so the digest is preserved:\n\n\n\nskopeo copy --preserve-digests --all docker://cp.icr.io/cp/noi/nasm-topology-service:v28.0.0-20250730.0908-6c57e7992 docker://<local_repo>/nasm-topology-service:v28.0.0-20250730.0908-6c57e7992\n\n\n\n## Installation instructions:\n\n\n\n1. Create a backup of the current ASM_v1_6_14_nasm-topology-service in case roll back is needed.\n\n   \n\noc get csv $(oc get csv | cut -d\" \" -f1 | egrep \"^noi\") --namespace <NAMESPACE> -o jsonpath='{.spec.install.spec.deployments[0].spec.template.metadata.annotations.olm\\.relatedImage\\.ASM_v1_6_14_nasm-topology-service}{\"\\n\"}' > backup_ASM_v1_6_14_nasm-topology-service_for_rollback.txt\n\n\n\n2. Verify the backup_ASM_v1_6_14_nasm-topology-service_for_rollback.txt contains the ASM_v1_6_14_nasm-topology-service image value.\n\n\n\n\n\n3. Patch the NOI CSV with the following patch command:\n\noc patch csv $(oc get csv | cut -d\" \" -f1 | egrep \"^noi\") --namespace <NAMESPACE> --type='json' -p='[{\"op\": \"replace\", \"path\": \"/spec/install/spec/deployments/0/spec/template/metadata/annotations/olm.relatedImage.ASM_v1_6_14_nasm-topology-service\", \"value\":\"cp.icr.io/cp/noi/nasm-topology-service@sha256:6c57e7992bae923924e196eae819a51dd7f59e8bc088a92ad8e9cc2886c46a96\"}]'\n\n\n\nOnce patched successfully the topology service pod should restart, it may take a few minutes.\n\n\n\n\n\n\n\n## Rollback\n\n\n\nTo rollback the hotfix, please update the <ORIGINAL-ASM_v1_6_14_nasm-topology-service-VALUE> within the command below with the value contained in the backup_ASM_v1_6_14_nasm-topology-service_for_rollback.txt:\n\n\n\noc patch csv $(oc get csv | cut -d\" \" -f1 | egrep \"^noi\") --namespace <NAMESPACE> --type='json' -p='[{\"op\": \"replace\", \"path\": \"/spec/install/spec/deployments/0/spec/template/metadata/annotations/olm.relatedImage.ASM_v1_6_14_nasm-topology-service\", \"value\":\"<ORIGINAL-ASM_v1_6_14_nasm-topology-service-VALUE>\"}]'\n\n\n\nOnce patched successfully the topology service pod should restart, it may take a few minutes.\n\n\n\nPlease let me know how you get on.\n\n\n\nMany Thanks\n\nTracey\n\n7/31/2025 5:17 PM | PCTS019874234 | Event: Solution Attempt | Tracey McWilliams\n7/31/2025 5:17 PM | PCTS019874234 | Event: outboundCommunication | Web/Email | Tracey McWilliams\nCD"
    }
  ],
  "full_text_for_rag": "Subject: 2\n\nProblem Description:\nCan BOA have a hot fix for 1.6.14\n\nFixed Event Manager 1.6.15 (Nov 2025)\nTS018451063 - Topology-Topology pod restarting during data ingestion through file observer\ntopology.image.tag: v25.0.0-20250402.0749-d3e76a2c0\ntopology.image.digest: 'sha256:d3e76a2c09911d647e122ebb1a40063fc50a92f086a6093193ddbf9ef0c5c79b'\nhttps://jsw.ibm.com/browse/CP4AIOPS-12054?jql=text%20~%20%22sha256%3Ad3e76a2c09911d647e122ebb1a40063fc50a92f086a6093193ddbf9ef0c5c79b%22\nEvent Manager 1.6.13 (July 2024)\n\nResolution Steps and Discussion:\n- The upgrade process was not followed correctly. After upgrading the cloud deployment, the spark statefulset needs to be removed.\n- For patching ASM, follow these steps: Create a backup, patch the NOI CSV with the provided command, rollback instructions provided.\n- Hotfix includes performance enhancements for topology service data ingestion.\n- Commands include: oc get csv, oc patch csv, skopeo copy for air-gapped environments.",
  "parsed_at": "2025-09-26T21:18:02.853186Z"
}